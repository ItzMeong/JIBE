<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Legends Tournament 2024</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap');
        
        .orbitron { font-family: 'Orbitron', monospace; }
        .inter { font-family: 'Inter', sans-serif; }
        
        .ml-gradient {
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 25%, #7c3aed  50%, #c026d3 75%, #e11d48 100%);
        }
        
        .ml-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .glow-effect {
            box-shadow: 0 0 20px rgba(124, 58, 237, 0.5);
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .slide-out {
            animation: slideOut 0.5s ease-in forwards;
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }
    </style>
</head>
<body class="ml-gradient min-h-screen text-white inter">
    <!-- Tournament Info Window -->
    <div id="tournamentInfo" class="min-h-screen flex items-center justify-center p-4">
        <div class="max-w-4xl w-full">
            <!-- Header -->
            <div class="text-center mb-12 floating-animation">
                <h1 class="orbitron text-6xl md:text-8xl font-black mb-4 bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500 bg-clip-text text-transparent">
                    ML TOURNAMENT
                </h1>
                <p class="text-2xl md:text-3xl font-bold text-blue-200">2024 CHAMPIONSHIP</p>
                <div class="mt-6 text-lg text-gray-300">
                    üèÜ Total Hadiah: <span class="text-yellow-400 font-bold">Rp 50.000.000</span>
                </div>
            </div>

            <!-- Tournament Details -->
            <div class="grid md:grid-cols-2 gap-8 mb-12">
                <div class="ml-card rounded-2xl p-8 glow-effect">
                    <h3 class="orbitron text-2xl font-bold mb-6 text-yellow-400">üìÖ JADWAL TOURNAMENT</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between">
                            <span class="text-gray-300">Pendaftaran:</span>
                            <span class="font-semibold">1-15 Desember 2024</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-300">Babak Penyisihan:</span>
                            <span class="font-semibold">20-22 Desember 2024</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-300">Semi Final:</span>
                            <span class="font-semibold">28 Desember 2024</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-300">Grand Final:</span>
                            <span class="font-semibold text-yellow-400">31 Desember 2024</span>
                        </div>
                    </div>
                </div>

                <div class="ml-card rounded-2xl p-8 glow-effect">
                    <h3 class="orbitron text-2xl font-bold mb-6 text-yellow-400">üèÜ HADIAH JUARA</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300">ü•á Juara 1:</span>
                            <span class="font-bold text-yellow-400">Rp 25.000.000</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300">ü•à Juara 2:</span>
                            <span class="font-bold text-gray-300">Rp 15.000.000</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300">ü•â Juara 3:</span>
                            <span class="font-bold text-orange-400">Rp 10.000.000</span>
                        </div>
                        <div class="text-sm text-gray-400 mt-4">
                            + Merchandise eksklusif untuk semua peserta
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rules & Requirements -->
            <div class="ml-card rounded-2xl p-8 mb-12 glow-effect">
                <h3 class="orbitron text-2xl font-bold mb-6 text-yellow-400">üìã SYARAT & KETENTUAN</h3>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="font-bold text-lg mb-4 text-blue-300">Persyaratan Tim:</h4>
                        <ul class="space-y-2 text-gray-300">
                            <li>‚Ä¢ Tim terdiri dari 5 pemain utama</li>
                            <li>‚Ä¢ Minimal rank Epic atau lebih tinggi</li>
                            <li>‚Ä¢ Semua anggota WNI</li>
                            <li>‚Ä¢ Usia minimal 16 tahun</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-4 text-blue-300">Format Tournament:</h4>
                        <ul class="space-y-2 text-gray-300">
                            <li>‚Ä¢ Best of 3 (BO3) untuk penyisihan</li>
                            <li>‚Ä¢ Best of 5 (BO5) untuk final</li>
                            <li>‚Ä¢ Draft pick mode</li>
                            <li>‚Ä¢ Server Indonesia</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- CTA Button -->
            <div class="text-center">
                <button onclick="showRegistration()" class="bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 px-12 py-4 rounded-full text-xl font-bold orbitron transform hover:scale-105 transition-all duration-300 glow-effect">
                    üöÄ DAFTAR SEKARANG
                </button>
                <p class="mt-4 text-gray-400">Slot terbatas! Hanya 64 tim terbaik</p>
            </div>
        </div>
    </div>

    <!-- Registration Window -->
    <div id="registrationWindow" class="hidden min-h-screen p-4">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-8">
                <button onclick="showTournamentInfo()" class="mb-6 text-blue-300 hover:text-white transition-colors">
                    ‚Üê Kembali ke Info Tournament
                </button>
                <h2 class="orbitron text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-yellow-400 to-red-500 bg-clip-text text-transparent">
                    PENDAFTARAN TIM
                </h2>
                <p class="text-gray-300">Isi data tim dengan lengkap dan benar</p>
            </div>

            <!-- Registration Form -->
            <div class="ml-card rounded-2xl p-8 glow-effect">
                <form id="registrationForm" class="space-y-6">
                    <!-- Team Info -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-blue-300">Nama Tim *</label>
                            <input type="text" id="teamName" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white placeholder-gray-400" placeholder="Masukkan nama tim">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-blue-300">Nama Kapten *</label>
                            <input type="text" id="captainName" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white placeholder-gray-400" placeholder="Nama lengkap kapten">
                        </div>
                    </div>

                    <!-- Contact Info -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-blue-300">WhatsApp Kapten *</label>
                            <input type="tel" id="whatsapp" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white placeholder-gray-400" placeholder="08xxxxxxxxxx">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-blue-300">Email *</label>
                            <input type="email" id="email" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white placeholder-gray-400" placeholder="email@example.com">
                        </div>
                    </div>

                    <!-- Game ID -->
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-blue-300">Game ID Kapten *</label>
                        <input type="text" id="gameId" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white placeholder-gray-400" placeholder="Contoh: 123456789">
                    </div>

                    <!-- Team Members -->
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-yellow-400 orbitron">ANGGOTA TIM</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-semibold mb-2 text-blue-300">Anggota 1 (IGN) *</label>
                                <input type="text" id="member1" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white placeholder-gray-400" placeholder="In Game Name">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold mb-2 text-blue-300">Anggota 2 (IGN) *</label>
                                <input type="text" id="member2" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white placeholder-gray-400" placeholder="In Game Name">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold mb-2 text-blue-300">Anggota 3 (IGN) *</label>
                                <input type="text" id="member3" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white placeholder-gray-400" placeholder="In Game Name">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold mb-2 text-blue-300">Anggota 4 (IGN) *</label>
                                <input type="text" id="member4" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white placeholder-gray-400" placeholder="In Game Name">
                            </div>
                        </div>
                    </div>

                    <!-- Additional Info -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-blue-300">Rank Tertinggi Tim *</label>
                            <select id="rank" required class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white">
                                <option value="">Pilih Rank</option>
                                <option value="Epic">Epic</option>
                                <option value="Legend">Legend</option>
                                <option value="Mythic">Mythic</option>
                                <option value="Mythical Honor">Mythical Honor</option>
                                <option value="Mythical Glory">Mythical Glory</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-blue-300">Pengalaman Tournament</label>
                            <select id="experience" class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-blue-400 focus:outline-none text-white">
                                <option value="">Pilih Pengalaman</option>
                                <option value="Pemula">Pemula (Belum pernah)</option>
                                <option value="Menengah">Menengah (1-3 tournament)</option>
                                <option value="Berpengalaman">Berpengalaman (4+ tournament)</option>
                                <option value="Profesional">Profesional</option>
                            </select>
                        </div>
                    </div>

                    <!-- Terms -->
                    <div class="flex items-start space-x-3">
                        <input type="checkbox" id="terms" required class="mt-1 w-5 h-5 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500">
                        <label for="terms" class="text-sm text-gray-300">
                            Saya menyetujui <span class="text-blue-400 underline cursor-pointer">syarat dan ketentuan</span> tournament serta bersedia mengikuti seluruh rangkaian acara.
                        </label>
                    </div>

                    <!-- Submit Button -->
                    <div class="text-center pt-6">
                        <button type="submit" class="bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 px-12 py-4 rounded-full text-xl font-bold orbitron transform hover:scale-105 transition-all duration-300 glow-effect">
                            üéÆ DAFTAR TIM
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
        <div class="ml-card rounded-2xl p-8 max-w-md w-full text-center glow-effect">
            <div class="text-6xl mb-4">üéâ</div>
            <h3 class="orbitron text-2xl font-bold mb-4 text-yellow-400">PENDAFTARAN BERHASIL!</h3>
            <p class="text-gray-300 mb-6">Tim Anda telah terdaftar. Kami akan menghubungi Anda melalui WhatsApp untuk konfirmasi lebih lanjut.</p>
            <button onclick="closeSuccessModal()" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-3 rounded-full font-bold transition-all duration-300">
                Tutup
            </button>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
        <div class="ml-card rounded-2xl p-8 max-w-md w-full text-center glow-effect">
            <div class="text-6xl mb-4">‚ùå</div>
            <h3 class="orbitron text-2xl font-bold mb-4 text-red-400">TERJADI KESALAHAN</h3>
            <p class="text-gray-300 mb-6" id="errorMessage">Terjadi kesalahan saat mengirim data.</p>
            <button onclick="closeErrorModal()" class="bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 px-8 py-3 rounded-full font-bold transition-all duration-300">
                Tutup
            </button>
        </div>
    </div>

    <script>
        // ===== KONFIGURASI GOOGLE SHEETS =====
        // PASTE URL DEPLOYMENT GOOGLE APPS SCRIPT ANDA DI SINI:
        const DEPLOYMENT_URL = 'https://script.google.com/macros/s/AKfycbztB2ZFnoNWhOM487mPaG1fzgPEfbFTW71N9-5wWMuF50V4mGzMSHX5UIbnoFFQvw1b/exec';
        
        // Contoh: 'https://script.google.com/macros/s/AKfycbxxx.../exec'

        function showRegistration() {
            document.getElementById('tournamentInfo').classList.add('slide-out');
            setTimeout(() => {
                document.getElementById('tournamentInfo').classList.add('hidden');
                document.getElementById('registrationWindow').classList.remove('hidden');
                document.getElementById('registrationWindow').classList.add('slide-in');
            }, 500);
        }

        function showTournamentInfo() {
            document.getElementById('registrationWindow').classList.add('slide-out');
            setTimeout(() => {
                document.getElementById('registrationWindow').classList.add('hidden');
                document.getElementById('tournamentInfo').classList.remove('hidden', 'slide-out');
                document.getElementById('tournamentInfo').classList.add('slide-in');
            }, 500);
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
            document.getElementById('registrationForm').reset();
            showTournamentInfo();
        }

        function closeErrorModal() {
            document.getElementById('errorModal').classList.add('hidden');
        }

        function showErrorMessage(message) {
            document.getElementById('errorMessage').textContent = message;
            document.getElementById('errorModal').classList.remove('hidden');
        }

        // ===== FORM SUBMISSION =====
        document.getElementById('registrationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Show loading state
            const submitBtn = e.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '‚è≥ MENGIRIM DATA...';
            submitBtn.disabled = true;
            
            // Validate form
            if (!validateForm()) {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                return;
            }
            
            // Collect form data
            const formData = {
                timestamp: new Date().toLocaleString('id-ID'),
                teamName: document.getElementById('teamName').value.trim(),
                captainName: document.getElementById('captainName').value.trim(),
                whatsapp: document.getElementById('whatsapp').value.trim(),
                email: document.getElementById('email').value.trim(),
                gameId: document.getElementById('gameId').value.trim(),
                member1: document.getElementById('member1').value.trim(),
                member2: document.getElementById('member2').value.trim(),
                member3: document.getElementById('member3').value.trim(),
                member4: document.getElementById('member4').value.trim(),
                rank: document.getElementById('rank').value,
                experience: document.getElementById('experience').value || 'Tidak disebutkan'
            };

            try {
                // Check if deployment URL is configured
                if (DEPLOYMENT_URL === 'https://script.google.com/macros/s/AKfycbztB2ZFnoNWhOM487mPaG1fzgPEfbFTW71N9-5wWMuF50V4mGzMSHX5UIbnoFFQvw1b/exec') {
                    throw new Error('‚ö†Ô∏è Silakan paste URL deployment Google Apps Script Anda di variabel DEPLOYMENT_URL');
                }

                // Send to Google Sheets
                const response = await fetch(DEPLOYMENT_URL, {
                    method: 'POST',
                    mode: 'cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                if (result.status !== 'success') {
                    throw new Error(result.message || 'Gagal menyimpan data');
                }

                // Show success modal
                document.getElementById('successModal').classList.remove('hidden');
                console.log('‚úÖ Pendaftaran berhasil:', formData.teamName);
                
            } catch (error) {
                console.error('‚ùå Error:', error);
                
                let errorMsg = 'Terjadi kesalahan saat mengirim data. ';
                
                if (error.message.includes('https://script.google.com/macros/s/AKfycbztB2ZFnoNWhOM487mPaG1fzgPEfbFTW71N9-5wWMuF50V4mGzMSHX5UIbnoFFQvw1b/exec')) {
                    errorMsg = '‚ö†Ô∏è URL deployment Google Apps Script belum dikonfigurasi. Silakan paste URL deployment Anda di kode.';
                } else if (error.message.includes('HTTP error')) {
                    errorMsg += 'Masalah koneksi internet atau server Google.';
                } else {
                    errorMsg += 'Silakan coba lagi atau hubungi admin.';
                }
                
                showErrorMessage(errorMsg);
            } finally {
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // ===== FORM VALIDATION =====
        function validateForm() {
            const requiredFields = [
                'teamName', 'captainName', 'whatsapp', 'email', 'gameId',
                'member1', 'member2', 'member3', 'member4', 'rank'
            ];
            
            for (let fieldId of requiredFields) {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    field.focus();
                    showErrorMessage(`Field "${field.previousElementSibling.textContent}" harus diisi!`);
                    return false;
                }
            }
            
            // Validate WhatsApp format
            const whatsapp = document.getElementById('whatsapp').value.trim();
            if (!/^(\+62|62|0)[0-9]{9,13}$/.test(whatsapp)) {
                document.getElementById('whatsapp').focus();
                showErrorMessage('Format WhatsApp tidak valid! Gunakan format: 08xxxxxxxxxx');
                return false;
            }
            
            // Validate email format
            const email = document.getElementById('email').value.trim();
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                document.getElementById('email').focus();
                showErrorMessage('Format email tidak valid!');
                return false;
            }
            
            // Check terms agreement
            if (!document.getElementById('terms').checked) {
                showErrorMessage('Anda harus menyetujui syarat dan ketentuan!');
                return false;
            }
            
            return true;
        }

        // Add floating animation to cards on scroll
        window.addEventListener('scroll', () => {
            const cards = document.querySelectorAll('.ml-card');
            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    card.style.transform = `translateY(${window.scrollY * 0.1}px)`;
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'982ec3bc7309f4a9',t:'MTc1ODUxMjI1NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
